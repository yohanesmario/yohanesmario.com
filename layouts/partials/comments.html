{{- if (not site.Params.disableThemeToggle) }}
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            let iframe = document.getElementsByClassName('utterances-frame')[0]
            if (!iframe) {
                return
            }
            iframe.contentWindow.postMessage({ type: 'set-theme', theme: 'github-light' }, 'https://utteranc.es')
        } else {
            let iframe = document.getElementsByClassName('utterances-frame')[0]
            if (!iframe) {
                return
            }
            iframe.contentWindow.postMessage({ type: 'set-theme', theme: 'github-dark' }, 'https://utteranc.es')
        }
    })
</script>
{{- end }}
<script src="https://utteranc.es/client.js"
        repo="yohanesmario/blog-comments"
        issue-term="pathname"
        label="Comment Thread"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
</script>